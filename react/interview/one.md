## 面试题一
    1、react为什么要使用jsx？
        主要考虑：
            易读性和易写性： JSX提供了一种类似HTML的语法，使得编写UI组件更加直观和易读。相比于传统的JavaScript操作DOM的方式，使用JSX可以更清晰地表达组件的结构和内容，从而提高了代码的可读性和编写效率。
            组件结构嵌套： JSX允许在JavaScript代码中直接嵌入HTML标记，使得组件的结构更加清晰和自然。开发者可以将组件的结构、样式和行为都封装在一个文件中，而不需要将它们分离成多个文件。
            可靠性和安全性： JSX是一种静态类型的语法扩展，可以通过类型检查工具（如TypeScript或Flow）在编译时检查代码的类型错误，从而减少潜在的运行时错误。
            组件逻辑嵌入： JSX允许在组件中直接嵌入JavaScript表达式，从而使得在组件中编写逻辑更加方便和灵活。开发者可以在JSX中使用条件语句、循环语句等来动态生成UI，从而实现更丰富的交互和用户体验。
            React元素创建： JSX被编译为普通的JavaScript函数调用，这些函数调用会创建React元素（React element），而不是直接操作DOM。这使得React可以更有效地管理组件的状态和更新，并且提供了更多的性能优化的可能性。
            综上所述，使用JSX能够提高React应用的开发效率、可读性和可靠性，使得开发者可以更轻松地编写复杂的UI组件，并且更好地管理组件的状态和行为。

    2、react和react-dom有什么关系？
        react和react-dom是react库的两个部分，分别处理不同的事物。之间的关系可以理解为：
            1、react：这是react库的核心部分，包含了react的核心功能，如组件、状态、生命周期等。提供了构建组件库的基本构建块。当你编写react组件时，实际使用的是react包
            2、react-dom：这是react专门为dom环境提供的包，包含了与浏览器dom相关的功能。react-dom提供了用于在浏览器中渲染react组件的方法，包括reactDom.render，在web开发中，react-dom将被用于将react应用渲染到浏览器的dom中。
            
            基本上，react和react-dom是为了更好的分离react的核心功能，以便更好的处理不同的环境和平台。这种分离使得react更加灵活，可以适应不同的渲染目标，而不是仅仅局限于浏览器环境。

    3、组件间的通信方式？
        父向子传递数据：props
        子向父传递数据：props回调
        跨组件通信：context对象
        非嵌套组件通信：事件订阅
        兄弟组件：父组件作为桥梁，使用的还是props

    4、如何避免生命周期中遇到的坑？
        比如遇到这个题，换而言之，面试官的潜在词就是你在开发过程中遇到了哪些坑？
            而对于这样的体面，我们一般的回答便是：通过梳理生命周期，来明确生命周函数的职责，确认什么时候该做什么事儿，来避免开发中遇到的坑。
        所以我们要根据题目来确立讨论的范围：
            ·基于生命周期的梳理，来确认生命周期函数的使用方式。
            ·基于职责的梳理，来确认生命周期函数的适用范围
    
            其余略
            至有道云查看

        
    5、虚拟dom的工作原理？
        React中的虚拟DOM（Virtual DOM）是一种用JavaScript对象表示的轻量级的DOM结构，它是真实DOM的抽象。虚拟DOM的工作原理可以简单概括如下：

        初始渲染： 当React组件首次渲染时，React会根据组件的声明以及数据状态（state）来构建虚拟DOM树。
        更新触发： 当组件的状态发生变化，或者父组件重新渲染时，React会重新构建虚拟DOM树。
        虚拟DOM比较： React会将新的虚拟DOM树与之前的虚拟DOM树进行比较，找出两者之间的差异。
        差异计算： React通过算法高效地计算出需要进行更新的部分，这些部分通常被称为变更集（diff）。
        真实DOM更新： 最后，React将这些变更应用到真实的DOM上，只更新需要改变的部分，而不是整个DOM结构。
        通过使用虚拟DOM，React能够实现高效的DOM更新，因为：

        虚拟DOM是在JavaScript内存中操作的，比操作真实DOM更快速。

        （注意：这点分情况m，如果操作的仅仅是按钮的文案，那么操作真实dom是比虚拟dum要快的）

        React通过差异计算算法，只更新真正发生变化的部分，避免了不必要的DOM操作，提高了性能。
        虚拟DOM的存在使得跨平台开发成为可能，因为React可以在不同的平台上使用不同的渲染器（如React DOM用于Web，React Native用于移动应用等），而开发者无需改变代码逻辑。
        总的来说，虚拟DOM是React中实现高效、可组合和跨平台UI开发的重要机制之一。
    
    6、如何设计组件？
        在React中设计组件是一个重要的方面，良好的组件设计能够提高代码的可维护性、可复用性和可扩展性。以下是一些设计组件的一般性指导原则：

            单一职责原则（Single Responsibility Principle）： 每个组件应该只关注一个特定的功能或责任。这样可以使组件更容易理解、测试和维护。
            组件复用性： 设计时考虑组件的复用性，尽量使组件具有通用性，而不是针对特定的用例进行设计。可以通过将组件分解成更小的可重用部分来提高复用性。
            组件拆分（Component Decomposition）： 当一个组件变得复杂时，考虑将其拆分成更小的、独立的子组件。这样可以降低组件的复杂度，使代码更易于管理。
            Props和State的合理使用： 合理使用组件的props和state。props用于传递数据给组件，而state用于管理组件内部的状态。尽量将状态提升到最接近使用该状态的公共祖先组件中，以确保状态的一致性和可预测性。
            无状态组件与有状态组件： 根据组件的功能需求选择合适的组件类型。无状态组件（函数式组件）适用于简单的UI展示，而有状态组件（类组件）适用于需要管理内部状态或生命周期方法的复杂组件。
            UI与业务逻辑的分离： 尽量将UI组件和业务逻辑分开，遵循分层架构原则。这样可以使UI组件更易于重用和测试，并且使业务逻辑更加清晰。
            命名规范： 组件的命名应该具有描述性，能够清晰地表达组件的用途和功能。通常使用大驼峰命名法（PascalCase）来命名组件，以便与HTML标签和其他JavaScript函数区分开。
            组件通信： 良好的组件设计应该考虑组件之间的通信方式。可以使用props来进行父子组件之间的通信，而使用上下文（Context）或全局状态管理库（如Redux）来进行跨组件通信。
            通过遵循这些设计原则，可以帮助你编写出更加清晰、可维护和可扩展的React组件。
    
    7、如何解释react的渲染流程？

        React的渲染流程可以简单地描述为以下几个步骤：
            初始化阶段（Initialization）： 当React应用启动时，React会初始化应用的根组件，并将其渲染到DOM中。这个过程包括创建根组件的虚拟DOM表示，并将其转换成真实的DOM元素，然后插入到页面中。
            更新阶段（Update）： 当组件的状态发生变化，或者父组件重新渲染时，React会触发更新阶段。在更新阶段，React会重新计算组件的虚拟DOM表示，并将其与之前的虚拟DOM进行比较，找出需要更新的部分。
            调和（Reconciliation）： 在更新阶段，React会执行调和（reconciliation）过程，通过算法高效地比较新旧虚拟DOM树，找出两者之间的差异。这个过程通常被称为“协调”或“调和”，其目的是找出最小的DOM操作集合，以更新页面的UI。
            提交阶段（Commit）： 一旦找到需要更新的差异，React会将这些变更应用到真实的DOM上，完成页面的更新。这个过程通常被称为“提交”阶段，其中包括更新DOM元素的属性和内容，以及触发必要的事件和生命周期方法。
            生命周期方法调用： 在组件更新完成后，React会调用相应组件的生命周期方法，包括componentDidMount、componentDidUpdate等。这些方法可以用于执行一些副作用操作，比如发送网络请求、订阅事件等。
            布局与重绘： 最后，浏览器会根据更新后的DOM结构重新计算页面的布局，并进行重绘操作，以展示最新的页面内容。
            总的来说，React的渲染流程包括初始化阶段、更新阶段、调和过程、提交阶段和生命周期方法调用等步骤，通过这些步骤，React能够实现高效、可预测和可维护的UI更新。
        
        如果渲染异常的话，会有什么影响？
            如果渲染异常的话，会有以下影响：
                UI显示问题： 渲染异常可能导致组件的部分或全部内容无法正确渲染，从而导致页面显示异常或空白。这可能会给用户带来不良的使用体验。

                错误信息显示： React会捕获渲染过程中的异常，并将其记录到控制台中，以及在开发模式下显示错误信息。这有助于开发者快速定位并修复问题。

                组件生命周期的中断： 如果在组件的生命周期方法中发生异常，可能会导致后续生命周期方法无法被调用，从而影响组件的行为和状态管理。例如，如果componentDidMount方法中发生异常，可能会导致组件无法完成初始化操作。

                可能的内存泄漏： 如果异常发生在事件处理函数或副作用操作中，并且未被正确处理，可能会导致内存泄漏问题。例如，未正确清除定时器或事件监听器可能会导致资源无法释放。

                应用崩溃： 如果异常未被捕获并处理，可能会导致整个React应用崩溃。这会给用户带来极差的体验，并可能导致数据丢失或其他不可预料的问题。

            为了尽量减少渲染异常带来的影响，开发者可以采取以下措施：
                错误边界（Error Boundaries）： 在React中可以使用错误边界来捕获并处理组件渲染过程中的异常，从而避免整个应用崩溃。错误边界是一种React组件，用于包裹子组件并捕获其渲染过程中的异常。
                良好的错误处理： 在开发过程中，尽量编写健壮的代码，并对可能引发异常的地方进行适当的错误处理。这包括使用try-catch语句捕获异常，以及在适当的时候使用条件语句进行错误处理。
                监控和日志记录： 在生产环境中，建议使用监控工具和日志记录系统来监测应用中的异常，并及时采取相应的措施进行修复。这有助于提高应用的稳定性和可靠性。
    
    8、react为什么不能直接使用requstIdleCallback?
        在React中不能直接使用requestIdleCallback的主要原因是因为它可能与React内部的调度机制产生冲突，导致意外的行为或性能问题。以下是一些原因：

        React自身的调度机制： React拥有自己的调度器，负责管理组件更新的优先级和调度。如果直接在React组件中使用requestIdleCallback，可能会破坏React的调度机制，导致组件更新的不可预测性和性能问题。
        可预测性和一致性： React旨在提供可预测性和一致性的UI更新。直接使用requestIdleCallback可能会导致组件更新的时机不确定，使得应用的行为变得不可预测。
        性能优化： 虽然requestIdleCallback可以在浏览器空闲时执行任务，但它不一定能够提供最佳的性能优化效果。React的调度器可以更好地了解当前组件更新的情况，并在需要时进行合并和批处理，以最小化不必要的DOM操作和重绘。
        虽然React不直接暴露requestIdleCallback，但是你可以通过一些库或者自定义钩子来实现类似的功能。例如，React提供了useEffect钩子来处理副作用，你可以在其中使用requestIdleCallback来执行一些低优先级的任务。但是需要注意，使用时要谨慎，确保不会影响到React的内部调度和性能。
    